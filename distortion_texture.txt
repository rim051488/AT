https://cpetry.github.io/NormalMap-Online/

今回やっていくのは「ポストプロセス」です
一度レンダリングした結果に対して画像処理を
行うことをポストエフェクト(ポストプロセス)
といいます。

だいたい画面全体に対してかける。
「描画先をテクスチャにする」のが必要です。

DxLibでポストプロセスを行うには
SetDrawScreen()の中身がDX_SCREEN_BACKではなく
テクスチャに書き込む

なので、バックバッファに直接書き込まず
事前にCreateScreen/MakeScreenとかで用意
しておいたバッファに書き込む。

で、そのバッファに加工を行う。

一般的なゲームでは(特に3D)、ぼかし処理は
非常によく使用されています。
①ブルーム(グレア)←光が漏れる演出
②被写界深度演出(DoF)
ただし、ガウスぼかしは非常に重い。
一般的には「縮小バッファ」を用いている
ちっちゃいキャンバスに描画しといて
それを拡大する。この時にバイリニア補間を
かけることで、勝手にボケる。



xy=xy * (cos+sin,-sin+cos)
		